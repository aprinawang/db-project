Drop table User;
create table User (
	user_id	INTEGER NOT NULL,
	username	VARCHAR(25) NOT NULL,
	email		VARCHAR(255),
	PRIMARY KEY (UserID)
);

drop table RecipeIngredientLink;
Create table RecipeIngredientLink (
	recipe_id		INTEGER NOT NULL,
	ingredient_id	INTEGER NOT NULL,
	quantity		DECIMAL(4,2),
	quantity_desc	VARCHAR(25),
	variant		VARCHAR(25),
	FOREIGN KEY (recipe_id) REFERENCES Recipe(recipe_id),
	FOREIGN KEY (ingredient_id) REFERENCES Ingredient(ingredient_id)
);

Drop table Recipe;
create table Recipe (
	recipe_name	VARCHAR(255) NOT NULL,
      	recipe_id	INTEGER NOT NULL,
	user_id	INTEGER NOT NULL,
      	date		DATETIME,
	description	VARCHAR(255),
	calories	INTEGER,
	PRIMARY KEY (recipe_id),
	FOREIGN KEY (user_id) REFERENCES User(user_id),
);

Drop table Interaction;
create table Interaction (
	user_id		INTEGER NOT NULL,
	recipe_id	INTEGER NOT NULL,
	date		DATETIME,
	rating		INTEGER,
	review		VARCHAR(20000),
	FOREIGN KEY (user_id) REFERENCES User(user_id),
	FOREIGN KEY (recipe_id) REFERENCES Recipe(recipe_id),
);

Drop table Allergy;
create table Allergy (
	allergy	VARCHAR(25),
	allergy_id	INTEGER NOT NULL,
	PRIMARY KEY (allergy_id)
);

Drop table Allergens;
create table Allergens (
	allergy_id		INTEGER NOT NULL,
	ingredient_id	INTEGER,
);

Drop table TagLink;
create table TagLink (
	recipe_id	INTEGER NOT NULL,
	tag_id		INTEGER,
	FOREIGN KEY (recipe_id) REFERENCES Recipe(recipe_id),
);

Drop table Tag:
Create table Tag (
	tag_id		INTEGER NOT NULL,
	tag_name 	VARCHAR(255),
	FOREIGN KEY (recipe_id) REFERENCES Recipe(recipe_id),
);

Drop table Steps:
Create table Steps (
	recipe_id		INTEGER NOT NULL,
	steps 			VARCHAR(255),
	order			INTEGER,
	FOREIGN KEY (recipe_id) REFERENCES Recipe(recipe_id),
);

Drop table Conversions:
Create table Conversions (
	from		VARCHAR(25),
	to 		VARCHAR(25),
	factor		Decimal (5,2),
);

Drop table Ingredient;
create table Ingredient (
    ingredient_id INTEGER NOT NULL,
    Energy_Kcal INTEGER,
    Protein FLOAT,
    Carbohydrate FLOAT,
    Fiber FLOAT,
    Sugar FLOAT,
    Calcium FLOAT,
    Iron FLOAT,
    Magnesium FLOAT,
    Sodium FLOAT,
    Cholestrl FLOAT,
    Cleaned_Desc VARCHAR(25),
    unit INTEGER,
    volume_quantity INTEGER,
    volume_desc VARCHAR(25),
    weight_quantity INTEGER,
    weight_desc VARCHAR(25),
	PRIMARY KEY (ingredient_id)
);
